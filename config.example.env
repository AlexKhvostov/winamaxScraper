# Winamax Analytics Configuration
# Скопируйте этот файл в .env и заполните своими данными

# ==============================================
# БАЗА ДАННЫХ MYSQL
# ==============================================
MYSQL_HOST=mysql80.hostland.ru
MYSQL_USERNAME=your_username
MYSQL_PASSWORD=your_password
MYSQL_DATABASE=your_database_name
MYSQL_PORT=3306

# ==============================================
# НАСТРОЙКИ СБОРА ДАННЫХ
# ==============================================

# Активные лимиты (через запятую)
# Если не указано, используется файл limits.txt
ACTIVE_LIMITS=16-25,50,100

# Минимальное количество очков для сохранения игрока
MIN_POINTS_FILTER=0

# Проверка дубликатов перед сохранением (true/false)
# Если true, не сохраняет записи с одинаковыми: игрок + очки + день по времени Милана
CHECK_DUPLICATES=true

# Интервал сбора данных в минутах
SCRAPING_INTERVAL_MINUTES=10

# ==============================================
# ЧАСОВОЙ ПОЯС И ВРЕМЯ
# ==============================================

# Часовой пояс для расчетов (Милан, Италия)
# В полночь по этому времени у всех игроков сбрасываются очки
TIMEZONE=Europe/Rome

# Учитывать сброс очков в полночь при расчетах (true/false)
# Если true, не будет отрицательных значений при переходе через полночь
HANDLE_MIDNIGHT_RESET=true

# ==============================================
# НАСТРОЙКИ ДАШБОРДА
# ==============================================

# Порт веб-сервера (по умолчанию 3000)
PORT=3000

# ==============================================
# ЛОГИРОВАНИЕ
# ==============================================

# Уровень логирования: error, warn, info, debug
LOG_LEVEL=error

# Ограничение роста логов (ротация)
# Максимальный размер одного файла лога (в МБ)
LOG_MAX_SIZE_MB=10
# Сколько файлов хранить (например, 5 последних дней)
LOG_MAX_FILES=5

# Автоочистка логов
# Вариант 1 (CRON выражение, приоритетнее): пример "0 0 * * *" — каждый день в 00:00 по Милану
LOGS_AUTO_CLEAR_CRON=
# Вариант 2 (только час в сутках 0-23): пример 23 — каждый день в 23:00 по Милану
LOGS_AUTO_CLEAR_HOUR=23

# ==============================================
# ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ
# ==============================================

# Таймаут для веб-скрапинга в миллисекундах
SCRAPING_TIMEOUT=30000

# Задержка между запросами к разным лимитам в миллисекундах
SCRAPING_DELAY=2000

# Предотвращение параллельных запусков (true/false)
# Если true, не позволит запустить скрапер если он уже работает
PREVENT_PARALLEL_RUNS=true

# User-Agent для браузера (необязательно)
# USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36

# ==============================================
# TELEGRAM BOT НАСТРОЙКИ
# ==============================================

# Telegram Bot Token
TELEGRAM_BOT_TOKEN=2962034522

# Telegram Chat ID для уведомлений
TELEGRAM_CHAT_ID=your_chat_id_here

# Интервал отправки статуса в часах (по умолчанию 8)
TELEGRAM_STATUS_INTERVAL_HOURS=8

# Интервал мониторинга в минутах (по умолчанию 3)
TELEGRAM_MONITORING_INTERVAL_MINUTES=3

# Время ежедневного отчета в часах (по умолчанию 10)
TELEGRAM_DAILY_REPORT_HOUR=10 

# ==============================================
# WATCHDOG
# ==============================================

# URL статуса сервера для watchdog (по умолчанию локальный сервер)
WATCHDOG_SERVER_URL=http://localhost:3000/api/status


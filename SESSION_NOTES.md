# –ö–æ–Ω—Å–ø–µ–∫—Ç —Å–µ—Å—Å–∏–π —Ä–∞–±–æ—Ç—ã —Å Winamax Scraper

## –°–µ—Å—Å–∏—è –æ—Ç 24.06.2025

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤ –ë–î (UTC)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (UTC)
- –£–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ MySQL
- –°–æ–∑–¥–∞–Ω–∏–µ .cursorrules —Ñ–∞–π–ª–∞

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

#### 1. UTC –≤—Ä–µ–º—è –≤ –ë–î
**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Ä–µ–º—è —Å–æ—Ö—Ä–∞–Ω—è–ª–æ—Å—å –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –≤–º–µ—Å—Ç–æ UTC
**–†–µ—à–µ–Ω–∏–µ:** 
- `src/database/scrapingLogger.js` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ `now.toTimeString()` –Ω–∞ `now.toISOString()`
- `src/index.js` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ `new Date()` –Ω–∞ `new Date().toISOString()`
- `start-scraping.js` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ `new Date()` –Ω–∞ `new Date().toISOString()`
- `src/database/mysql.js` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ `new Date()` –Ω–∞ `new Date().toISOString()`

#### 2. UTC –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Ä–µ–º—è –≤ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—É—Å–∫–æ–≤ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å –≤ –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
**–†–µ—à–µ–Ω–∏–µ:** 
- `public/index.html` - –∑–∞–º–µ–Ω–∏–ª `.toLocaleString('ru-RU')` –Ω–∞ `.toISOString().replace('T', ' ').substring(0, 16)`

#### 3. –£–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ MySQL
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ `acquireTimeout` –≤ MySQL2
**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `acquireTimeout: 60000` –∏–∑ `src/database/mysql.js`

#### 4. –°–æ–∑–¥–∞–Ω–∏–µ .cursorrules
**–ó–∞–¥–∞—á–∞:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è AI –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –ø–æ–¥—Ö–æ–¥–∞ –∫ —Ä–∞–±–æ—Ç–µ

### üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### –ü—Ä–æ–±–ª–µ–º–∞ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –≤ API
**–û–ø–∏—Å–∞–Ω–∏–µ:** API –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—É—Å–∫–æ–≤ –±–µ—Ä–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π –≤–º–µ—Å—Ç–æ –Ω–æ–≤—ã—Ö
**–î–µ—Ç–∞–ª–∏:** 
- –í –ë–î –µ—Å—Ç—å –∑–∞–ø–∏—Å–∏ 783-788 —Å —Ä–∞–∑–Ω—ã–º–∏ –≤—Ä–µ–º–µ–Ω–∞–º–∏
- API –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø–æ –≤—Ä–µ–º–µ–Ω–∏, –Ω–æ –±–µ—Ä–µ—Ç –ø–µ—Ä–≤—ã–µ –∑–∞–ø–∏—Å–∏
- –ù—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –≤ `server.js` –¥–ª—è –≤–∑—è—Ç–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø–∏—Å–µ–π
**–°—Ç–∞—Ç—É—Å:** –û—Ç–ª–æ–∂–µ–Ω–æ –¥–ª—è –±—É–¥—É—â–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è

## –°–µ—Å—Å–∏—è –æ—Ç 11.08.2025

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –ë–æ—Ç –Ω–µ –ø—Ä–∏—Å—ã–ª–∞–µ—Ç —Å—Ç–∞—Ç—É—Å—ã –ø–æ —Ç–∞–π–º–µ—Ä—É TELEGRAM_STATUS_INTERVAL_HOURS=1
- –ö–æ–º–∞–Ω–¥–∞ –±–æ—Ç–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Windows

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –í `bot/telegram-monitor.js`:
  - –û—Ç–∫–ª—é—á–µ–Ω Markdown –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π, —á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–∏—Ç—å –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ Telegram
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏ –ª–æ–≥ cron-–≤—ã—Ä–∞–∂–µ–Ω–∏—è
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–∏—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ `server.js` –Ω–∞ Windows (–ø–æ–∏—Å–∫ –ø–æ `'%server.js%'`, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ PID)
  - –£–ª—É—á—à–µ–Ω –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ `taskkill` –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π `spawn('node', ['server.js'])`

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –°—Ç–∞—Ç—É—Å —Ç–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏ –ø–æ cron
- –ö–æ–º–∞–Ω–¥–∞ /restart –¥–æ–ª–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å/–∑–∞–ø—É—Å–∫–∞—Ç—å —Å–µ—Ä–≤–µ—Ä –Ω–∞ Windows

### ‚öôÔ∏è –î–æ–ø–æ–ª–Ω–µ–Ω–∏—è
- –í–∫–ª—é—á–µ–Ω–∞ —Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ winston-daily-rotate-file, –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `LOG_MAX_SIZE_MB`, `LOG_MAX_FILES`, `LOGS_AUTO_CLEAR_CRON`/`LOGS_AUTO_CLEAR_HOUR`.
- –ë–æ—Ç: –≤—ã–Ω–µ—Å–µ–Ω—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, –∫–æ–º–∞–Ω–¥—ã, –æ—Ç—á—ë—Ç—ã, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ –º–æ–¥—É–ª–∏. –î–æ–±–∞–≤–ª–µ–Ω —Ä–µ–∑–µ—Ä–≤–Ω—ã–π —Ç–∞–π–º–µ—Ä –Ω–∞ —Å–ª—É—á–∞–π –ø—Ä–æ–±–ª–µ–º `node-cron` –Ω–∞ Windows.

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –í—Ä–µ–º—è –≤ –ë–î —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ UTC
- ‚úÖ –í—Ä–µ–º—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ UTC
- ‚úÖ –£–±—Ä–∞–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è MySQL
- ‚úÖ –°–æ–∑–¥–∞–Ω –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç `check-log-788.js`

### üöÄ –î–µ–ø–ª–æ–π
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### üìù –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è
1. **UTC –≤—Ä–µ–º—è** - –≤—Å–µ –∑–∞–ø–∏—Å–∏ —Ç–µ–ø–µ—Ä—å –≤ UTC —Ñ–æ—Ä–º–∞—Ç–µ
2. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –≤—Ä–µ–º—è –≤–µ–∑–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ
3. **–ß–∏—Å—Ç–æ—Ç–∞ –ª–æ–≥–æ–≤** - —É–±—Ä–∞–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - —Å–æ–∑–¥–∞–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI

### üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
- –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π API (–ø–æ –∂–µ–ª–∞–Ω–∏—é)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è 